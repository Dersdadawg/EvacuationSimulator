#!/bin/bash
# Quick demo script for Emergency Building Sweep Simulator

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  Emergency Building Sweep Simulator - Quick Demo         â•‘"
echo "â•‘  HiMCM 2025 MVP                                           â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Check Python
if ! command -v python3 &> /dev/null; then
    echo "âŒ Error: python3 not found. Please install Python 3.11+"
    exit 1
fi

echo "âœ“ Python 3 found"
echo ""

# Check dependencies
echo "Checking dependencies..."
python3 -c "import numpy, matplotlib, pandas, networkx" 2>/dev/null
if [ $? -ne 0 ]; then
    echo "âš ï¸  Some dependencies missing. Installing..."
    pip3 install -r requirements.txt
    if [ $? -ne 0 ]; then
        echo "âŒ Failed to install dependencies"
        exit 1
    fi
fi
echo "âœ“ All dependencies installed"
echo ""

# Run tests
echo "Running acceptance tests..."
python3 test_acceptance.py
if [ $? -ne 0 ]; then
    echo "âŒ Tests failed"
    exit 1
fi
echo ""

# Run demo
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  Running Demo Simulation                                  â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Scenario: Simple office (1 floor, 1 agent, no hazards)"
echo "Running in headless mode for speed..."
echo ""

python3 main.py --no-viz --scenario simple

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  Demo Complete!                                           â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "Next steps:"
echo "  1. View results in the outputs/ directory"
echo "  2. Run with visualization: python3 main.py"
echo "  3. Try other scenarios: python3 main.py --scenario office"
echo "  4. See USAGE.md for more options"
echo ""
echo "Enjoy! ğŸš’"

